import { useLoaderStore } from "@/stores/global";
import React from "react";
import styled from "@emotion/styled";
import Typography from "./Typography";
import { useTranslation } from "react-i18next";

const Loader = () => {
  const { isLoading } = useLoaderStore();
  const { t } = useTranslation();
  if (!isLoading) {
    return null;
  }

  return (
    <Container>
      <div className="animate-spin rounded-full mb-[38px]">
        <svg
          width="56"
          height="56"
          viewBox="0 0 56 56"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M28 0C28.5304 0 29.0391 0.210714 29.4142 0.585786C29.7893 0.960859 30 1.46957 30 2V14C30 14.5304 29.7893 15.0391 29.4142 15.4142C29.0391 15.7893 28.5304 16 28 16C27.4696 16 26.9609 15.7893 26.5858 15.4142C26.2107 15.0391 26 14.5304 26 14V2C26 1.46957 26.2107 0.960859 26.5858 0.585786C26.9609 0.210714 27.4696 0 28 0ZM28 40C28.5304 40 29.0391 40.2107 29.4142 40.5858C29.7893 40.9609 30 41.4696 30 42V54C30 54.5304 29.7893 55.0391 29.4142 55.4142C29.0391 55.7893 28.5304 56 28 56C27.4696 56 26.9609 55.7893 26.5858 55.4142C26.2107 55.0391 26 54.5304 26 54V42C26 41.4696 26.2107 40.9609 26.5858 40.5858C26.9609 40.2107 27.4696 40 28 40ZM56 28C56 28.5304 55.7893 29.0391 55.4142 29.4142C55.0391 29.7893 54.5304 30 54 30H42C41.4696 30 40.9609 29.7893 40.5858 29.4142C40.2107 29.0391 40 28.5304 40 28C40 27.4696 40.2107 26.9609 40.5858 26.5858C40.9609 26.2107 41.4696 26 42 26H54C54.5304 26 55.0391 26.2107 55.4142 26.5858C55.7893 26.9609 56 27.4696 56 28ZM16 28C16 28.5304 15.7893 29.0391 15.4142 29.4142C15.0391 29.7893 14.5304 30 14 30H2C1.46957 30 0.960859 29.7893 0.585786 29.4142C0.210714 29.0391 0 28.5304 0 28C0 27.4696 0.210714 26.9609 0.585786 26.5858C0.960859 26.2107 1.46957 26 2 26H14C14.5304 26 15.0391 26.2107 15.4142 26.5858C15.7893 26.9609 16 27.4696 16 28ZM8.2 8.2C8.57506 7.82506 9.08367 7.61443 9.614 7.61443C10.1443 7.61443 10.6529 7.82506 11.028 8.2L19.52 16.688C19.8843 17.0652 20.0859 17.5704 20.0813 18.0948C20.0768 18.6192 19.8665 19.1208 19.4956 19.4916C19.1248 19.8625 18.6232 20.0728 18.0988 20.0773C17.5744 20.0819 17.0692 19.8803 16.692 19.516L8.2 11.028C7.82506 10.6529 7.61443 10.1443 7.61443 9.614C7.61443 9.08367 7.82506 8.57506 8.2 8.2ZM36.484 36.484C36.8591 36.1091 37.3677 35.8984 37.898 35.8984C38.4283 35.8984 38.9369 36.1091 39.312 36.484L47.8 44.972C48.1643 45.3492 48.3659 45.8544 48.3613 46.3788C48.3568 46.9032 48.1465 47.4048 47.7756 47.7756C47.4048 48.1465 46.9032 48.3568 46.3788 48.3613C45.8544 48.3659 45.3492 48.1643 44.972 47.8L36.484 39.312C36.1091 38.9369 35.8984 38.4283 35.8984 37.898C35.8984 37.3677 36.1091 36.8591 36.484 36.484ZM47.8 8.204C48.1737 8.57889 48.3836 9.08665 48.3836 9.616C48.3836 10.1453 48.1737 10.6531 47.8 11.028L39.312 19.52C38.9348 19.8843 38.4296 20.0859 37.9052 20.0813C37.3808 20.0768 36.8792 19.8665 36.5084 19.4956C36.1375 19.1248 35.9272 18.6232 35.9227 18.0988C35.9181 17.5744 36.1197 17.0692 36.484 16.692L44.972 8.204C45.3471 7.82906 45.8557 7.61843 46.386 7.61843C46.9163 7.61843 47.4249 7.82906 47.8 8.204ZM19.516 36.484C19.8909 36.8591 20.1016 37.3677 20.1016 37.898C20.1016 38.4283 19.8909 38.9369 19.516 39.312L11.028 47.8C10.6508 48.1643 10.1456 48.3659 9.6212 48.3613C9.0968 48.3568 8.59518 48.1465 8.22436 47.7756C7.85355 47.4048 7.64321 46.9032 7.63865 46.3788C7.6341 45.8544 7.83568 45.3492 8.2 44.972L16.688 36.484C17.0631 36.1091 17.5717 35.8984 18.102 35.8984C18.6323 35.8984 19.1409 36.1091 19.516 36.484Z"
            fill="#FA6EE3"
          />
        </svg>
      </div>
      <Typography type="h3">
        {t("ideal_type") + " " + t("analyzing")}...
      </Typography>
      <Typography type="body1" textAlign="center">
        {t("analyzing_sub_text_1")} <br /> {t("analyzing_sub_text_2")}
      </Typography>
    </Container>
  );
};

export default Loader;

const Container = styled.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background-color: white;
  gap: 6px;
`;
